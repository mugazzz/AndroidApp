"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.NETWORK_KEYS = exports.BATTERY_KEYS = exports.MEMORY_KEYS = exports.CPU_KEYS = exports.SUPPORTED_PERFORMANCE_DATA_TYPES = exports.helpers = exports.commands = void 0;

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _lodash = _interopRequireDefault(require("lodash"));

var _asyncbox = require("asyncbox");

let commands = {},
    helpers = {},
    extensions = {};
exports.helpers = helpers;
exports.commands = commands;
const NETWORK_KEYS = [['bucketStart', 'activeTime', 'rxBytes', 'rxPackets', 'txBytes', 'txPackets', 'operations', 'bucketDuration'], ['st', 'activeTime', 'rb', 'rp', 'tb', 'tp', 'op', 'bucketDuration']];
exports.NETWORK_KEYS = NETWORK_KEYS;
const CPU_KEYS = ['user', 'kernel'];
exports.CPU_KEYS = CPU_KEYS;
const BATTERY_KEYS = ['power'];
exports.BATTERY_KEYS = BATTERY_KEYS;
const MEMORY_KEYS = ['totalPrivateDirty', 'nativePrivateDirty', 'dalvikPrivateDirty', 'eglPrivateDirty', 'glPrivateDirty', 'totalPss', 'nativePss', 'dalvikPss', 'eglPss', 'glPss', 'nativeHeapAllocatedSize', 'nativeHeapSize'];
exports.MEMORY_KEYS = MEMORY_KEYS;
const SUPPORTED_PERFORMANCE_DATA_TYPES = {
  cpuinfo: 'the amount of cpu by user and kernel process - cpu information for applications on real devices and simulators',
  memoryinfo: 'the amount of memory used by the process - memory information for applications on real devices and simulators',
  batteryinfo: 'the remaining battery power - battery power information for applications on real devices and simulators',
  networkinfo: 'the network statistics - network rx/tx information for applications on real devices and simulators'
};
exports.SUPPORTED_PERFORMANCE_DATA_TYPES = SUPPORTED_PERFORMANCE_DATA_TYPES;
const RETRY_PAUSE = 1000;

commands.getPerformanceDataTypes = function () {
  return _lodash.default.keys(SUPPORTED_PERFORMANCE_DATA_TYPES);
};

commands.getPerformanceData = function () {
  var _ref = (0, _asyncToGenerator2.default)(function* (packageName, dataType, dataReadTimeout = 2) {
    let data;

    switch (dataType) {
      case 'batteryinfo':
        data = yield this.getBatteryInfo(dataReadTimeout);
        break;

      case 'cpuinfo':
        data = yield this.getCPUInfo(packageName, dataReadTimeout);
        break;

      case 'memoryinfo':
        data = yield this.getMemoryInfo(packageName, dataReadTimeout);
        break;

      case 'networkinfo':
        data = yield this.getNetworkTrafficInfo(dataReadTimeout);
        break;

      default:
        throw new Error(`No performance data of type '${dataType}' found.`);
    }

    return data;
  });

  return function (_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();

helpers.getCPUInfo = function () {
  var _ref2 = (0, _asyncToGenerator2.default)(function* (packageName, dataReadTimeout = 2) {
    var _this = this;

    return yield (0, _asyncbox.retryInterval)(dataReadTimeout, RETRY_PAUSE, (0, _asyncToGenerator2.default)(function* () {
      const cmd = ['dumpsys', 'cpuinfo', '|', 'grep', `'${packageName}'`];
      const data = yield _this.adb.shell(cmd);

      if (_lodash.default.isEmpty(data)) {
        throw new Error('No data from dumpsys');
      }

      const userMatch = /([\d.]+)%\s+user/.exec(data);
      const kernelMatch = /([\d.]+)%\s+kernel/.exec(data);

      if (!userMatch || !kernelMatch) {
        throw new Error(`Unable to parse cpu data: '${data}'`);
      }

      return [_lodash.default.clone(CPU_KEYS), [userMatch[1], kernelMatch[1]]];
    }));
  });

  return function (_x3) {
    return _ref2.apply(this, arguments);
  };
}();

helpers.getBatteryInfo = function () {
  var _ref4 = (0, _asyncToGenerator2.default)(function* (dataReadTimeout = 2) {
    var _this2 = this;

    return yield (0, _asyncbox.retryInterval)(dataReadTimeout, RETRY_PAUSE, (0, _asyncToGenerator2.default)(function* () {
      let cmd = ['dumpsys', 'battery', '|', 'grep', 'level'];
      let data = yield _this2.adb.shell(cmd);
      if (!data) throw new Error('No data from dumpsys');
      let power = parseInt((data.split(':')[1] || '').trim(), 10);

      if (!Number.isNaN(power)) {
        return [_lodash.default.clone(BATTERY_KEYS), [power.toString()]];
      } else {
        throw new Error(`Unable to parse battery data: '${data}'`);
      }
    }));
  });

  return function () {
    return _ref4.apply(this, arguments);
  };
}();

helpers.getMemoryInfo = function () {
  var _ref6 = (0, _asyncToGenerator2.default)(function* (packageName, dataReadTimeout = 2) {
    var _this3 = this;

    return yield (0, _asyncbox.retryInterval)(dataReadTimeout, RETRY_PAUSE, (0, _asyncToGenerator2.default)(function* () {
      let cmd = ['dumpsys', 'meminfo', `'${packageName}'`, '|', 'grep', '-E', "'Native|Dalvik|EGL|GL|TOTAL'"];
      let data = yield _this3.adb.shell(cmd);
      if (!data) throw new Error('No data from dumpsys');
      let totalPrivateDirty, totalPss, nativePrivateDirty, nativePss, nativeHeapSize, nativeHeapAllocatedSize, dalvikPrivateDirty, dalvikPss, eglPrivateDirty, eglPss, glPrivateDirty, glPss;
      let apilevel = yield _this3.adb.getApiLevel();
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = data.split('\n')[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          let line = _step.value;
          let entries = line.trim().split(' ').filter(Boolean);

          if (apilevel > 18) {
            let type = entries[0];
            let subType = entries[1];

            if (type === 'Native' && subType === 'Heap') {
              nativePss = entries[2];
              nativePrivateDirty = entries[3];
              nativeHeapSize = entries[6];
              nativeHeapAllocatedSize = entries[7];
            } else if (type === 'Dalvik' && subType === 'Heap') {
              dalvikPss = entries[2];
              dalvikPrivateDirty = entries[3];
            } else if (type === 'EGL' && subType === 'mtrack') {
              eglPss = entries[2];
              eglPrivateDirty = entries[3];
            } else if (type === 'GL' && subType === 'mtrack') {
              glPss = entries[2];
              glPrivateDirty = entries[3];
            } else if (type === 'TOTAL' && entries.length === 8) {
              totalPss = entries[1];
              totalPrivateDirty = entries[2];
            }
          } else {
            let type = entries[0];

            if (type === 'Native') {
              nativePss = entries[1];
              nativePrivateDirty = entries[3];
              nativeHeapSize = entries[4];
              nativeHeapAllocatedSize = entries[5];
            } else if (type === 'Dalvik') {
              dalvikPss = entries[1];
              dalvikPrivateDirty = entries[3];
            } else if (type === 'EGL') {
              eglPss = entries[1];
              eglPrivateDirty = entries[3];
            } else if (type === 'GL') {
              glPss = entries[1];
              glPrivateDirty = entries[3];
            } else if (type === 'TOTAL') {
              totalPss = entries[1];
              totalPrivateDirty = entries[3];
            }
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      if (totalPrivateDirty && totalPrivateDirty !== 'nodex') {
        let headers = _lodash.default.clone(MEMORY_KEYS);

        let data = [totalPrivateDirty, nativePrivateDirty, dalvikPrivateDirty, eglPrivateDirty, glPrivateDirty, totalPss, nativePss, dalvikPss, eglPss, glPss, nativeHeapAllocatedSize, nativeHeapSize];
        return [headers, data];
      } else {
        throw new Error(`Unable to parse memory data: '${data}'`);
      }
    }));
  });

  return function (_x4) {
    return _ref6.apply(this, arguments);
  };
}();

helpers.getNetworkTrafficInfo = function () {
  var _ref8 = (0, _asyncToGenerator2.default)(function* (dataReadTimeout = 2) {
    var _this4 = this;

    return yield (0, _asyncbox.retryInterval)(dataReadTimeout, RETRY_PAUSE, (0, _asyncToGenerator2.default)(function* () {
      let returnValue = [];
      let bucketDuration, bucketStart, activeTime, rxBytes, rxPackets, txBytes, txPackets, operations;
      let cmd = ['dumpsys', 'netstats'];
      let data = yield _this4.adb.shell(cmd);
      if (!data) throw new Error('No data from dumpsys');
      let index = 0;
      let fromXtstats = data.indexOf("Xt stats:");
      let start = data.indexOf("Pending bytes:", fromXtstats);
      let delimiter = data.indexOf(":", start + 1);
      let end = data.indexOf("\n", delimiter + 1);
      let pendingBytes = data.substring(delimiter + 1, end).trim();

      if (end > delimiter) {
        start = data.indexOf("bucketDuration", end + 1);
        delimiter = data.indexOf("=", start + 1);
        end = data.indexOf("\n", delimiter + 1);
        bucketDuration = data.substring(delimiter + 1, end).trim();
      }

      if (start >= 0) {
        data = data.substring(end + 1, data.length);
        let arrayList = data.split("\n");

        if (arrayList.length > 0) {
          start = -1;

          for (let j = 0; j < NETWORK_KEYS.length; ++j) {
            start = arrayList[0].indexOf(NETWORK_KEYS[j][0]);

            if (start >= 0) {
              index = j;
              returnValue[0] = [];

              for (let k = 0; k < NETWORK_KEYS[j].length; ++k) {
                returnValue[0][k] = NETWORK_KEYS[j][k];
              }

              break;
            }
          }

          let returnIndex = 1;

          for (let i = 0; i < arrayList.length; i++) {
            data = arrayList[i];
            start = data.indexOf(NETWORK_KEYS[index][0]);

            if (start >= 0) {
              delimiter = data.indexOf("=", start + 1);
              end = data.indexOf(" ", delimiter + 1);
              bucketStart = data.substring(delimiter + 1, end).trim();

              if (end > delimiter) {
                start = data.indexOf(NETWORK_KEYS[index][1], end + 1);

                if (start >= 0) {
                  delimiter = data.indexOf("=", start + 1);
                  end = data.indexOf(" ", delimiter + 1);
                  activeTime = data.substring(delimiter + 1, end).trim();
                }
              }

              if (end > delimiter) {
                start = data.indexOf(NETWORK_KEYS[index][2], end + 1);

                if (start >= 0) {
                  delimiter = data.indexOf("=", start + 1);
                  end = data.indexOf(" ", delimiter + 1);
                  rxBytes = data.substring(delimiter + 1, end).trim();
                }
              }

              if (end > delimiter) {
                start = data.indexOf(NETWORK_KEYS[index][3], end + 1);

                if (start >= 0) {
                  delimiter = data.indexOf("=", start + 1);
                  end = data.indexOf(" ", delimiter + 1);
                  rxPackets = data.substring(delimiter + 1, end).trim();
                }
              }

              if (end > delimiter) {
                start = data.indexOf(NETWORK_KEYS[index][4], end + 1);

                if (start >= 0) {
                  delimiter = data.indexOf("=", start + 1);
                  end = data.indexOf(" ", delimiter + 1);
                  txBytes = data.substring(delimiter + 1, end).trim();
                }
              }

              if (end > delimiter) {
                start = data.indexOf(NETWORK_KEYS[index][5], end + 1);

                if (start >= 0) {
                  delimiter = data.indexOf("=", start + 1);
                  end = data.indexOf(" ", delimiter + 1);
                  txPackets = data.substring(delimiter + 1, end).trim();
                }
              }

              if (end > delimiter) {
                start = data.indexOf(NETWORK_KEYS[index][6], end + 1);

                if (start >= 0) {
                  delimiter = data.indexOf("=", start + 1);
                  end = data.length;
                  operations = data.substring(delimiter + 1, end).trim();
                }
              }

              returnValue[returnIndex++] = [bucketStart, activeTime, rxBytes, rxPackets, txBytes, txPackets, operations, bucketDuration];
            }
          }
        }
      }

      if (!_lodash.default.isEqual(pendingBytes, "") && !_lodash.default.isUndefined(pendingBytes) && !_lodash.default.isEqual(pendingBytes, "nodex")) {
        return returnValue;
      } else {
        throw new Error(`Unable to parse network traffic data: '${data}'`);
      }
    }));
  });

  return function () {
    return _ref8.apply(this, arguments);
  };
}();

Object.assign(extensions, commands, helpers);
var _default = extensions;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9wZXJmb3JtYW5jZS5qcyJdLCJuYW1lcyI6WyJjb21tYW5kcyIsImhlbHBlcnMiLCJleHRlbnNpb25zIiwiTkVUV09SS19LRVlTIiwiQ1BVX0tFWVMiLCJCQVRURVJZX0tFWVMiLCJNRU1PUllfS0VZUyIsIlNVUFBPUlRFRF9QRVJGT1JNQU5DRV9EQVRBX1RZUEVTIiwiY3B1aW5mbyIsIm1lbW9yeWluZm8iLCJiYXR0ZXJ5aW5mbyIsIm5ldHdvcmtpbmZvIiwiUkVUUllfUEFVU0UiLCJnZXRQZXJmb3JtYW5jZURhdGFUeXBlcyIsIl8iLCJrZXlzIiwiZ2V0UGVyZm9ybWFuY2VEYXRhIiwicGFja2FnZU5hbWUiLCJkYXRhVHlwZSIsImRhdGFSZWFkVGltZW91dCIsImRhdGEiLCJnZXRCYXR0ZXJ5SW5mbyIsImdldENQVUluZm8iLCJnZXRNZW1vcnlJbmZvIiwiZ2V0TmV0d29ya1RyYWZmaWNJbmZvIiwiRXJyb3IiLCJjbWQiLCJhZGIiLCJzaGVsbCIsImlzRW1wdHkiLCJ1c2VyTWF0Y2giLCJleGVjIiwia2VybmVsTWF0Y2giLCJjbG9uZSIsInBvd2VyIiwicGFyc2VJbnQiLCJzcGxpdCIsInRyaW0iLCJOdW1iZXIiLCJpc05hTiIsInRvU3RyaW5nIiwidG90YWxQcml2YXRlRGlydHkiLCJ0b3RhbFBzcyIsIm5hdGl2ZVByaXZhdGVEaXJ0eSIsIm5hdGl2ZVBzcyIsIm5hdGl2ZUhlYXBTaXplIiwibmF0aXZlSGVhcEFsbG9jYXRlZFNpemUiLCJkYWx2aWtQcml2YXRlRGlydHkiLCJkYWx2aWtQc3MiLCJlZ2xQcml2YXRlRGlydHkiLCJlZ2xQc3MiLCJnbFByaXZhdGVEaXJ0eSIsImdsUHNzIiwiYXBpbGV2ZWwiLCJnZXRBcGlMZXZlbCIsImxpbmUiLCJlbnRyaWVzIiwiZmlsdGVyIiwiQm9vbGVhbiIsInR5cGUiLCJzdWJUeXBlIiwibGVuZ3RoIiwiaGVhZGVycyIsInJldHVyblZhbHVlIiwiYnVja2V0RHVyYXRpb24iLCJidWNrZXRTdGFydCIsImFjdGl2ZVRpbWUiLCJyeEJ5dGVzIiwicnhQYWNrZXRzIiwidHhCeXRlcyIsInR4UGFja2V0cyIsIm9wZXJhdGlvbnMiLCJpbmRleCIsImZyb21YdHN0YXRzIiwiaW5kZXhPZiIsInN0YXJ0IiwiZGVsaW1pdGVyIiwiZW5kIiwicGVuZGluZ0J5dGVzIiwic3Vic3RyaW5nIiwiYXJyYXlMaXN0IiwiaiIsImsiLCJyZXR1cm5JbmRleCIsImkiLCJpc0VxdWFsIiwiaXNVbmRlZmluZWQiLCJPYmplY3QiLCJhc3NpZ24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBR0EsSUFBSUEsUUFBUSxHQUFHLEVBQWY7QUFBQSxJQUFtQkMsT0FBTyxHQUFHLEVBQTdCO0FBQUEsSUFBaUNDLFVBQVUsR0FBRyxFQUE5Qzs7O0FBRUEsTUFBTUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxhQUFELEVBQWdCLFlBQWhCLEVBQThCLFNBQTlCLEVBQXlDLFdBQXpDLEVBQXNELFNBQXRELEVBQWlFLFdBQWpFLEVBQThFLFlBQTlFLEVBQTRGLGdCQUE1RixDQUFELEVBQWdILENBQUMsSUFBRCxFQUFPLFlBQVAsRUFBcUIsSUFBckIsRUFBMkIsSUFBM0IsRUFBaUMsSUFBakMsRUFBdUMsSUFBdkMsRUFBNkMsSUFBN0MsRUFBbUQsZ0JBQW5ELENBQWhILENBQXJCOztBQUNBLE1BQU1DLFFBQVEsR0FBRyxDQUFDLE1BQUQsRUFBUyxRQUFULENBQWpCOztBQUNBLE1BQU1DLFlBQVksR0FBRyxDQUFDLE9BQUQsQ0FBckI7O0FBQ0EsTUFBTUMsV0FBVyxHQUFHLENBQUMsbUJBQUQsRUFBc0Isb0JBQXRCLEVBQTRDLG9CQUE1QyxFQUFrRSxpQkFBbEUsRUFBcUYsZ0JBQXJGLEVBQXVHLFVBQXZHLEVBQW1ILFdBQW5ILEVBQWdJLFdBQWhJLEVBQTZJLFFBQTdJLEVBQXVKLE9BQXZKLEVBQWdLLHlCQUFoSyxFQUEyTCxnQkFBM0wsQ0FBcEI7O0FBRUEsTUFBTUMsZ0NBQWdDLEdBQUc7QUFDdkNDLEVBQUFBLE9B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QUNsRCxnQkFBRXVFLE9BQUYsQ0FBVVAsWUFBVixFQUF3QixFQUF4QixDQUFELElBQWdDLENBQUNoRSxnQkFBRXdFLFdBQUYsQ0FBY1IsWUFBZCxDQUFqQyxJQUFnRSxDQUFDaEUsZ0JBQUV1RSxPQUFGLENBQVVQLFlBQVYsRUFBd0IsT0FBeEIsQ0FBckUsRUFBdUc7QUFDckcsZUFBT2YsV0FBUDtBQUNELE9BRkQsTUFFTztBQUNMLGNBQU0sSUFBSXRDLEtBQUosQ0FBVywwQ0FBeUNMLElBQUssR0FBekQsQ0FBTjtBQUNEO0FBQ0YsS0FySlksRUFBYjtBQXNKRCxHQXZKRDs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUF5SkFtRSxNQUFNLENBQUNDLE1BQVAsQ0FBY3RGLFVBQWQsRUFBMEJGLFFBQTFCLEVBQW9DQyxPQUFwQztlQUtlQyxVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IHJldHJ5SW50ZXJ2YWwgfSBmcm9tICdhc3luY2JveCc7XG5cblxubGV0IGNvbW1hbmRzID0ge30sIGhlbHBlcnMgPSB7fSwgZXh0ZW5zaW9ucyA9IHt9O1xuXG5jb25zdCBORVRXT1JLX0tFWVMgPSBbWydidWNrZXRTdGFydCcsICdhY3RpdmVUaW1lJywgJ3J4Qnl0ZXMnLCAncnhQYWNrZXRzJywgJ3R4Qnl0ZXMnLCAndHhQYWNrZXRzJywgJ29wZXJhdGlvbnMnLCAnYnVja2V0RHVyYXRpb24nXSwgWydzdCcsICdhY3RpdmVUaW1lJywgJ3JiJywgJ3JwJywgJ3RiJywgJ3RwJywgJ29wJywgJ2J1Y2tldER1cmF0aW9uJ11dO1xuY29uc3QgQ1BVX0tFWVMgPSBbJ3VzZXInLCAna2VybmVsJ107XG5jb25zdCBCQVRURVJZX0tFWVMgPSBbJ3Bvd2VyJ107XG5jb25zdCBNRU1PUllfS0VZUyA9IFsndG90YWxQcml2YXRlRGlydHknLCAnbmF0aXZlUHJpdmF0ZURpcnR5JywgJ2RhbHZpa1ByaXZhdGVEaXJ0eScsICdlZ2xQcml2YXRlRGlydHknLCAnZ2xQcml2YXRlRGlydHknLCAndG90YWxQc3MnLCAnbmF0aXZlUHNzJywgJ2RhbHZpa1BzcycsICdlZ2xQc3MnLCAnZ2xQc3MnLCAnbmF0aXZlSGVhcEFsbG9jYXRlZFNpemUnLCAnbmF0aXZlSGVhcFNpemUnXTtcblxuY29uc3QgU1VQUE9SVEVEX1BFUkZPUk1BTkNFX0RBVEFfVFlQRVMgPSB7XG4gIGNwdWluZm86ICd0aGUgYW1vdW50IG9mIGNwdSBieSB1c2VyIGFuZCBrZXJuZWwgcHJvY2VzcyAtIGNwdSBpbmZvcm1hdGlvbiBmb3IgYXBwbGljYXRpb25zIG9uIHJlYWwgZGV2aWNlcyBhbmQgc2ltdWxhdG9ycycsXG4gIG1lbW9yeWluZm86ICd0aGUgYW1vdW50IG9mIG1lbW9yeSB1c2VkIGJ5IHRoZSBwcm9jZXNzIC0gbWVtb3J5IGluZm9ybWF0aW9uIGZvciBhcHBsaWNhdGlvbnMgb24gcmVhbCBkZXZpY2VzIGFuZCBzaW11bGF0b3JzJyxcbiAgYmF0dGVyeWluZm86ICd0aGUgcmVtYWluaW5nIGJhdHRlcnkgcG93ZXIgLSBiYXR0ZXJ5IHBvd2VyIGluZm9ybWF0aW9uIGZvciBhcHBsaWNhdGlvbnMgb24gcmVhbCBkZXZpY2VzIGFuZCBzaW11bGF0b3JzJyxcbiAgbmV0d29ya2luZm86ICd0aGUgbmV0d29yayBzdGF0aXN0aWNzIC0gbmV0d29yayByeC90eCBpbmZvcm1hdGlvbiBmb3IgYXBwbGljYXRpb25zIG9uIHJlYWwgZGV2aWNlcyBhbmQgc2ltdWxhdG9ycydcbn07XG5cbmNvbnN0IFJFVFJZX1BBVVNFID0gMTAwMDtcblxuLy9cbi8vIHJldHVybnMgdGhlIGluZm9ybWF0aW9uIHR5cGUgb2YgdGhlIHN5c3RlbSBzdGF0ZSB3aGljaCBpcyBzdXBwb3J0ZWQgdG8gcmVhZCBhcyBsaWtlIGNwdSwgbWVtb3J5LCBuZXR3b3JrIHRyYWZmaWMsIGFuZCBiYXR0ZXJ5LlxuLy8gb3V0cHV0IC0gYXJyYXkgbGlrZSBiZWxvd1xuLy9bY3B1aW5mbywgYmF0dGVyeWluZm8sIG5ldHdvcmtpbmZvLCBtZW1vcnlpbmZvXVxuLy9cbmNvbW1hbmRzLmdldFBlcmZvcm1hbmNlRGF0YVR5cGVzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gXy5rZXlzKFNVUFBPUlRFRF9QRVJGT1JNQU5DRV9EQVRBX1RZUEVTKTtcbn07XG5cbi8vIHJldHVybnMgdGhlIGluZm9ybWF0aW9uIHR5cGUgb2YgdGhlIHN5c3RlbSBzdGF0ZSB3aGljaCBpcyBzdXBwb3J0ZWQgdG8gcmVhZCBhcyBsaWtlIGNwdSwgbWVtb3J5LCBuZXR3b3JrIHRyYWZmaWMsIGFuZCBiYXR0ZXJ5LlxuLy9pbnB1dCAtIChwYWNrYWdlTmFtZSkgdGhlIHBhY2thZ2UgbmFtZSBvZiB0aGUgYXBwbGljYXRpb25cbi8vICAgICAgICAoZGF0YVR5cGUpIHRoZSB0eXBlIG9mIHN5c3RlbSBzdGF0ZSB3aGljaCB3YW50cyB0byByZWFkLiBJdCBzaG91bGQgYmUgb25lIG9mIHRoZSBrZXlzIG9mIHRoZSBTVVBQT1JURURfUEVSRk9STUFOQ0VfREFUQV9UWVBFU1xuLy8gICAgICAgIChkYXRhUmVhZFRpbWVvdXQpIHRoZSBudW1iZXIgb2YgYXR0ZW1wdHMgdG8gcmVhZFxuLy8gb3V0cHV0IC0gdGFibGUgb2YgdGhlIHBlcmZvcm1hbmNlIGRhdGEsIFRoZSBmaXJzdCBsaW5lIG9mIHRoZSB0YWJsZSByZXByZXNlbnRzIHRoZSB0eXBlIG9mIGRhdGEuIFRoZSByZW1haW5pbmcgbGluZXMgcmVwcmVzZW50IHRoZSB2YWx1ZXMgb2YgdGhlIGRhdGEuXG4vL1xuLy8gaW4gY2FzZSBvZiBiYXR0ZXJ5IGluZm8gOiBbW3Bvd2VyXSwgWzIzXV1cbi8vIGluIGNhc2Ugb2YgbWVtb3J5IGluZm8gOiAgW1t0b3RhbFByaXZhdGVEaXJ0eSwgbmF0aXZlUHJpdmF0ZURpcnR5LCBkYWx2aWtQcml2YXRlRGlydHksIGVnbFByaXZhdGVEaXJ0eSwgZ2xQcml2YXRlRGlydHksIHRvdGFsUHNzLCBuYXRpdmVQc3MsIGRhbHZpa1BzcywgZWdsUHNzLCBnbFBzcywgbmF0aXZlSGVhcEFsbG9jYXRlZFNpemUsIG5hdGl2ZUhlYXBTaXplXSwgWzE4MzYwLCA4Mjk2LCA2MTMyLCBudWxsLCBudWxsLCA0MjU4OCwgODQwNiwgNzAyNCwgbnVsbCwgbnVsbCwgMjY1MTksIDEwMzQ0XV1cbi8vIGluIGNhc2Ugb2YgbmV0d29yayBpbmZvIDogW1tidWNrZXRTdGFydCwgYWN0aXZlVGltZSwgcnhCeXRlcywgcnhQYWNrZXRzLCB0eEJ5dGVzLCB0eFBhY2tldHMsIG9wZXJhdGlvbnMsIGJ1Y2tldER1cmF0aW9uLF0sIFsxNDc4MDkxNjAwMDAwLCBudWxsLCAxMDk5MDc1LCA2MTA5NDcsIDkyOCwgMTE0MzYyLCA3NjksIDAsIDM2MDAwMDBdLCBbMTQ3ODA5NTIwMDAwMCwgbnVsbCwgMTMwNjMwMCwgNDA1OTk3LCA1MDksIDQ2MzU5LCAzNzAsIDAsIDM2MDAwMDBdXVxuLy8gaW4gY2FzZSBvZiBuZXR3b3JrIGluZm8gOiBbW3N0LCBhY3RpdmVUaW1lLCByYiwgcnAsIHRiLCB0cCwgb3AsIGJ1Y2tldER1cmF0aW9uXSwgWzE0NzgwODgwMDAsIG51bGwsIG51bGwsIDMyMTE1Mjk2LCAzNDI5MSwgMjk1NjgwNSwgMjU3MDUsIDAsIDM2MDBdLCBbMTQ3ODA5MTYwMCwgbnVsbCwgbnVsbCwgMjcxNDY4MywgMTE4MjEsIDE0MjA1NjQsIDEyNjUwLCAwLCAzNjAwXSwgWzE0NzgwOTUyMDAsIG51bGwsIG51bGwsIDEwMDc5MjEzLCAxOTk2MiwgMjQ4NzcwNSwgMjAwMTUsIDAsIDM2MDBdLCBbMTQ3ODA5ODgwMCwgbnVsbCwgbnVsbCwgNDQ0NDQzMywgMTAyMjcsIDE0MzAzNTYsIDEwNDkzLCAwLCAzNjAwXV1cbi8vIGluIGNhc2Ugb2YgY3B1IGluZm8gOiBbW3VzZXIsIGtlcm5lbF0sIFswLjksIDEuM11dXG4vL1xuY29tbWFuZHMuZ2V0UGVyZm9ybWFuY2VEYXRhID0gYXN5bmMgZnVuY3Rpb24gKHBhY2thZ2VOYW1lLCBkYXRhVHlwZSwgZGF0YVJlYWRUaW1lb3V0ID0gMikge1xuICBsZXQgZGF0YTtcbiAgc3dpdGNoIChkYXRhVHlwZSkge1xuICAgIGNhc2UgJ2JhdHRlcnlpbmZvJzpcbiAgICAgIGRhdGEgPSBhd2FpdCB0aGlzLmdldEJhdHRlcnlJbmZvKGRhdGFSZWFkVGltZW91dCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdjcHVpbmZvJzpcbiAgICAgIGRhdGEgPSBhd2FpdCB0aGlzLmdldENQVUluZm8ocGFja2FnZU5hbWUsIGRhdGFSZWFkVGltZW91dCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdtZW1vcnlpbmZvJzpcbiAgICAgIGRhdGEgPSBhd2FpdCB0aGlzLmdldE1lbW9yeUluZm8ocGFja2FnZU5hbWUsIGRhdGFSZWFkVGltZW91dCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICduZXR3b3JraW5mbyc6XG4gICAgICBkYXRhID0gYXdhaXQgdGhpcy5nZXROZXR3b3JrVHJhZmZpY0luZm8oZGF0YVJlYWRUaW1lb3V0KTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHBlcmZvcm1hbmNlIGRhdGEgb2YgdHlwZSAnJHtkYXRhVHlwZX0nIGZvdW5kLmApO1xuICB9XG4gIHJldHVybiBkYXRhO1xufTtcblxuaGVscGVycy5nZXRDUFVJbmZvID0gYXN5bmMgZnVuY3Rpb24gKHBhY2thZ2VOYW1lLCBkYXRhUmVhZFRpbWVvdXQgPSAyKSB7XG4gIC8vIFRPRE86IGZpZ3VyZSBvdXQgd2h5IHRoaXMgaXNcbiAgLy8gc29tZXRpbWVzLCB0aGUgZnVuY3Rpb24gb2YgJ2FkYi5zaGVsbCcgZmFpbHMuIHdoZW4gSSB0ZXN0ZWQgdGhpcyBmdW5jdGlvbiBvbiB0aGUgdGFyZ2V0IG9mICdHYWxheHkgTm90ZTUnLFxuICAvLyBhZGIuc2hlbGwoZHVtcHN5cyBjcHVpbmZvKSByZXR1cm5zIGNwdSBkYXRhcyBmb3Igb3RoZXIgYXBwbGljYXRpb24gcGFja2FnZXMsIGJ1dCBJIGNhbid0IGZpbmQgdGhlIGRhdGEgZm9yIHBhY2thZ2VOYW1lLlxuICAvLyBJdCB1c3VhbGx5IGZhaWxzIDMwIHRpbWVzIGFuZCBzdWNjZXNzIGZvciB0aGUgbmV4dCB0aW1lLFxuICAvLyBTaW5jZSB0aGVuLCBoZSBoYXMgY29udGludWVkIHRvIHN1Y2NlZWQuXG4gIHJldHVybiBhd2FpdCByZXRyeUludGVydmFsKGRhdGFSZWFkVGltZW91dCwgUkVUUllfUEFVU0UsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBjbWQgPSBbJ2R1bXBzeXMnLCAnY3B1aW5mbycsICd8JywgJ2dyZXAnLCBgJyR7cGFja2FnZU5hbWV9J2BdO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmFkYi5zaGVsbChjbWQpO1xuICAgIGlmIChfLmlzRW1wdHkoZGF0YSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZGF0YSBmcm9tIGR1bXBzeXMnKTtcbiAgICB9XG4gICAgLy8gYGRhdGFgIHdpbGwgYmUgc29tZXRoaW5nIGxpa2VcbiAgICAvLyAgICArMCUgMjIwOS9pby5hcHBpdW0uYW5kcm9pZC5hcGlzOiAwLjElIHVzZXIgKyAwLjIlIGtlcm5lbFxuICAgIGNvbnN0IHVzZXJNYXRjaCA9IC8oW1xcZC5dKyklXFxzK3VzZXIvLmV4ZWMoZGF0YSk7XG4gICAgY29uc3Qga2VybmVsTWF0Y2ggPSAvKFtcXGQuXSspJVxccytrZXJuZWwvLmV4ZWMoZGF0YSk7XG4gICAgaWYgKCF1c2VyTWF0Y2ggfHwgIWtlcm5lbE1hdGNoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBwYXJzZSBjcHUgZGF0YTogJyR7ZGF0YX0nYCk7XG4gICAgfVxuICAgIHJldHVybiBbXy5jbG9uZShDUFVfS0VZUyksIFt1c2VyTWF0Y2hbMV0sIGtlcm5lbE1hdGNoWzFdXV07XG4gIH0pO1xufTtcblxuaGVscGVycy5nZXRCYXR0ZXJ5SW5mbyA9IGFzeW5jIGZ1bmN0aW9uIChkYXRhUmVhZFRpbWVvdXQgPSAyKSB7XG4gIHJldHVybiBhd2FpdCByZXRyeUludGVydmFsKGRhdGFSZWFkVGltZW91dCwgUkVUUllfUEFVU0UsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgY21kID0gWydkdW1wc3lzJywgJ2JhdHRlcnknLCAnfCcsICdncmVwJywgJ2xldmVsJ107XG4gICAgbGV0IGRhdGEgPSBhd2FpdCB0aGlzLmFkYi5zaGVsbChjbWQpO1xuICAgIGlmICghZGF0YSkgdGhyb3cgbmV3IEVycm9yKCdObyBkYXRhIGZyb20gZHVtcHN5cycpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgY3VybHlcblxuICAgIGxldCBwb3dlciA9IHBhcnNlSW50KChkYXRhLnNwbGl0KCc6JylbMV0gfHwgJycpLnRyaW0oKSwgMTApO1xuXG4gICAgaWYgKCFOdW1iZXIuaXNOYU4ocG93ZXIpKSB7XG4gICAgICByZXR1cm4gW18uY2xvbmUoQkFUVEVSWV9LRVlTKSwgW3Bvd2VyLnRvU3RyaW5nKCldXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gcGFyc2UgYmF0dGVyeSBkYXRhOiAnJHtkYXRhfSdgKTtcbiAgICB9XG4gIH0pO1xuXG59O1xuXG5oZWxwZXJzLmdldE1lbW9yeUluZm8gPSBhc3luYyBmdW5jdGlvbiAocGFja2FnZU5hbWUsIGRhdGFSZWFkVGltZW91dCA9IDIpIHtcbiAgcmV0dXJuIGF3YWl0IHJldHJ5SW50ZXJ2YWwoZGF0YVJlYWRUaW1lb3V0LCBSRVRSWV9QQVVTRSwgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBjbWQgPSBbJ2R1bXBzeXMnLCAnbWVtaW5mbycsIGAnJHtwYWNrYWdlTmFtZX0nYCwgJ3wnLCAnZ3JlcCcsICctRScsIFwiJ05hdGl2ZXxEYWx2aWt8RUdMfEdMfFRPVEFMJ1wiXTtcbiAgICBsZXQgZGF0YSA9IGF3YWl0IHRoaXMuYWRiLnNoZWxsKGNtZCk7XG4gICAgaWYgKCFkYXRhKSB0aHJvdyBuZXcgRXJyb3IoJ05vIGRhdGEgZnJvbSBkdW1wc3lzJyk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBjdXJseVxuXG4gICAgbGV0IHRvdGFsUHJpdmF0ZURpcnR5LCB0b3RhbFBzcyxcbiAgICAgICAgbmF0aXZlUHJpdmF0ZURpcnR5LCBuYXRpdmVQc3MsIG5hdGl2ZUhlYXBTaXplLCBuYXRpdmVIZWFwQWxsb2NhdGVkU2l6ZSxcbiAgICAgICAgZGFsdmlrUHJpdmF0ZURpcnR5LCBkYWx2aWtQc3MsXG4gICAgICAgIGVnbFByaXZhdGVEaXJ0eSwgZWdsUHNzLFxuICAgICAgICBnbFByaXZhdGVEaXJ0eSwgZ2xQc3M7XG4gICAgbGV0IGFwaWxldmVsID0gYXdhaXQgdGhpcy5hZGIuZ2V0QXBpTGV2ZWwoKTtcbiAgICBmb3IgKGxldCBsaW5lIG9mIGRhdGEuc3BsaXQoJ1xcbicpKSB7XG4gICAgICBsZXQgZW50cmllcyA9IGxpbmUudHJpbSgpLnNwbGl0KCcgJykuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgLy8gZW50cmllcyB3aWxsIGhhdmUgdGhlIHZhbHVlc1xuICAgICAgLy8gICBbJzxTeXN0ZW0gVHlwZT4nLCAnPE1lbW9yeSBUeXBlPicsIDxwc3MgdG90YWw+LCA8cHJpdmF0ZSBkaXJ0eT4sIDxwcml2YXRlIGNsZWFuPiwgPHN3YXBQc3MgZGlydHk+LCA8aGVhcCBzaXplPiwgPGhlYXAgYWxsb2M+LCA8aGVhcCBmcmVlPl1cbiAgICAgIC8vIGV4Y2VwdCAnVE9UQUwnLCB3aGljaCBza2lwcyB0aGUgc2Vjb25kIHR5cGUgbmFtZVxuICAgICAgLy9cbiAgICAgIC8vIGFuZCBvbiBBUEkgbGV2ZWwgMTggYW5kIGJlbG93XG4gICAgICAvLyAgIFsnPFN5c3RlbSBUeXBlJywgJzxwcHM+JywgJzxzaGFyZWQgZGlydHk+JywgJzxwcml2YXRlIGRpcnR5PicsICc8aGVhcCBzaXplPicsICc8aGVhcCBhbGxvYz4nLCAnPGhlYXAgZnJlZT4nXVxuXG4gICAgICBpZiAoYXBpbGV2ZWwgPiAxOCkge1xuICAgICAgICBsZXQgdHlwZSA9IGVudHJpZXNbMF07XG4gICAgICAgIGxldCBzdWJUeXBlID0gZW50cmllc1sxXTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdOYXRpdmUnICYmIHN1YlR5cGUgPT09ICdIZWFwJykge1xuICAgICAgICAgIC8vIG5hdGl2ZSBoZWFwXG4gICAgICAgICAgbmF0aXZlUHNzID0gZW50cmllc1syXTtcbiAgICAgICAgICBuYXRpdmVQcml2YXRlRGlydHkgPSBlbnRyaWVzWzNdO1xuICAgICAgICAgIG5hdGl2ZUhlYXBTaXplID0gZW50cmllc1s2XTtcbiAgICAgICAgICBuYXRpdmVIZWFwQWxsb2NhdGVkU2l6ZSA9IGVudHJpZXNbN107XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0RhbHZpaycgJiYgc3ViVHlwZSA9PT0gJ0hlYXAnKSB7XG4gICAgICAgICAgLy8gZGFsdmlrIGhlYXBcbiAgICAgICAgICBkYWx2aWtQc3MgPSBlbnRyaWVzWzJdO1xuICAgICAgICAgIGRhbHZpa1ByaXZhdGVEaXJ0eSA9IGVudHJpZXNbM107XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0VHTCcgJiYgc3ViVHlwZSA9PT0gJ210cmFjaycpIHtcbiAgICAgICAgICAvLyBlZ2xcbiAgICAgICAgICBlZ2xQc3MgPSBlbnRyaWVzWzJdO1xuICAgICAgICAgIGVnbFByaXZhdGVEaXJ0eSA9IGVudHJpZXNbM107XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0dMJyAmJiBzdWJUeXBlID09PSAnbXRyYWNrJykge1xuICAgICAgICAgIC8vIGdsXG4gICAgICAgICAgZ2xQc3MgPSBlbnRyaWVzWzJdO1xuICAgICAgICAgIGdsUHJpdmF0ZURpcnR5ID0gZW50cmllc1szXTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnVE9UQUwnICYmIGVudHJpZXMubGVuZ3RoID09PSA4KSB7XG4gICAgICAgICAgLy8gdGhlcmUgYXJlIHR3byB0b3RhbHMsIGFuZCB3ZSBvbmx5IHdhbnQgdGhlIGZ1bGwgbGlzdGluZywgd2hpY2ggaGFzIDggZW50cmllc1xuICAgICAgICAgIHRvdGFsUHNzID0gZW50cmllc1sxXTtcbiAgICAgICAgICB0b3RhbFByaXZhdGVEaXJ0eSA9IGVudHJpZXNbMl07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCB0eXBlID0gZW50cmllc1swXTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdOYXRpdmUnKSB7XG4gICAgICAgICAgbmF0aXZlUHNzID0gZW50cmllc1sxXTtcbiAgICAgICAgICBuYXRpdmVQcml2YXRlRGlydHkgPSBlbnRyaWVzWzNdO1xuICAgICAgICAgIG5hdGl2ZUhlYXBTaXplID0gZW50cmllc1s0XTtcbiAgICAgICAgICBuYXRpdmVIZWFwQWxsb2NhdGVkU2l6ZSA9IGVudHJpZXNbNV07XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0RhbHZpaycpIHtcbiAgICAgICAgICBkYWx2aWtQc3MgPSBlbnRyaWVzWzFdO1xuICAgICAgICAgIGRhbHZpa1ByaXZhdGVEaXJ0eSA9IGVudHJpZXNbM107XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0VHTCcpIHtcbiAgICAgICAgICBlZ2xQc3MgPSBlbnRyaWVzWzFdO1xuICAgICAgICAgIGVnbFByaXZhdGVEaXJ0eSA9IGVudHJpZXNbM107XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0dMJykge1xuICAgICAgICAgIGdsUHNzID0gZW50cmllc1sxXTtcbiAgICAgICAgICBnbFByaXZhdGVEaXJ0eSA9IGVudHJpZXNbM107XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ1RPVEFMJykge1xuICAgICAgICAgIHRvdGFsUHNzID0gZW50cmllc1sxXTtcbiAgICAgICAgICB0b3RhbFByaXZhdGVEaXJ0eSA9IGVudHJpZXNbM107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodG90YWxQcml2YXRlRGlydHkgJiYgdG90YWxQcml2YXRlRGlydHkgIT09ICdub2RleCcpIHtcbiAgICAgIGxldCBoZWFkZXJzID0gXy5jbG9uZShNRU1PUllfS0VZUyk7XG4gICAgICBsZXQgZGF0YSA9IFt0b3RhbFByaXZhdGVEaXJ0eSwgbmF0aXZlUHJpdmF0ZURpcnR5LCBkYWx2aWtQcml2YXRlRGlydHksIGVnbFByaXZhdGVEaXJ0eSwgZ2xQcml2YXRlRGlydHksIHRvdGFsUHNzLCBuYXRpdmVQc3MsIGRhbHZpa1BzcywgZWdsUHNzLCBnbFBzcywgbmF0aXZlSGVhcEFsbG9jYXRlZFNpemUsIG5hdGl2ZUhlYXBTaXplXTtcbiAgICAgIHJldHVybiBbaGVhZGVycywgZGF0YV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHBhcnNlIG1lbW9yeSBkYXRhOiAnJHtkYXRhfSdgKTtcbiAgICB9XG4gIH0pO1xufTtcblxuaGVscGVycy5nZXROZXR3b3JrVHJhZmZpY0luZm8gPSBhc3luYyBmdW5jdGlvbiAoZGF0YVJlYWRUaW1lb3V0ID0gMikge1xuICByZXR1cm4gYXdhaXQgcmV0cnlJbnRlcnZhbChkYXRhUmVhZFRpbWVvdXQsIFJFVFJZX1BBVVNFLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHJldHVyblZhbHVlID0gW107XG4gICAgbGV0IGJ1Y2tldER1cmF0aW9uLCBidWNrZXRTdGFydCwgYWN0aXZlVGltZSwgcnhCeXRlcywgcnhQYWNrZXRzLCB0eEJ5dGVzLCB0eFBhY2tldHMsIG9wZXJhdGlvbnM7XG5cbiAgICBsZXQgY21kID0gWydkdW1wc3lzJywgJ25ldHN0YXRzJ107XG4gICAgbGV0IGRhdGEgPSBhd2FpdCB0aGlzLmFkYi5zaGVsbChjbWQpO1xuICAgIGlmICghZGF0YSkgdGhyb3cgbmV3IEVycm9yKCdObyBkYXRhIGZyb20gZHVtcHN5cycpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgY3VybHlcblxuICAgIC8vIEluIGNhc2Ugb2YgbmV0d29yayB0cmFmZmljIGluZm9ybWF0aW9uLCBpdCBpcyBkaWZmZXJlbnQgZm9yIHRoZSByZXR1cm4gZGF0YSBiZXR3ZWVuIGVtdWxhdG9yIGFuZCByZWFsIGRldmljZS5cbiAgICAvLyB0aGUgcmV0dXJuIGRhdGEgb2YgZW11bGF0b3JcbiAgICAvLyAgIFh0IHN0YXRzOlxuICAgIC8vICAgUGVuZGluZyBieXRlczogMzkyNTBcbiAgICAvLyAgIEhpc3Rvcnkgc2luY2UgYm9vdDpcbiAgICAvLyAgIGlkZW50PVtbdHlwZT1XSUZJLCBzdWJUeXBlPUNPTUJJTkVELCBuZXR3b3JrSWQ9XCJXaXJlZFNTSURcIl1dIHVpZD0tMSBzZXQ9QUxMIHRhZz0weDBcbiAgICAvLyAgIE5ldHdvcmtTdGF0c0hpc3Rvcnk6IGJ1Y2tldER1cmF0aW9uPTM2MDAwMDBcbiAgICAvLyAgIGJ1Y2tldFN0YXJ0PTE0NzgwOTg4MDAwMDAgYWN0aXZlVGltZT0zMTgyNCByeEJ5dGVzPTIxNTAyIHJ4UGFja2V0cz03OCB0eEJ5dGVzPTE3NzQ4IHR4UGFja2V0cz05MCBvcGVyYXRpb25zPTBcbiAgICAvL1xuICAgIC8vIDcuMVxuICAgIC8vICAgWHQgc3RhdHM6XG4gICAgLy8gICBQZW5kaW5nIGJ5dGVzOiA0ODE0ODdcbiAgICAvLyAgIEhpc3Rvcnkgc2luY2UgYm9vdDpcbiAgICAvLyAgIGlkZW50PVt7dHlwZT1NT0JJTEUsIHN1YlR5cGU9Q09NQklORUQsIHN1YnNjcmliZXJJZD0zMTAyNjAuLi4sIG1ldGVyZWQ9dHJ1ZX1dIHVpZD0tMSBzZXQ9QUxMIHRhZz0weDBcbiAgICAvLyAgICAgTmV0d29ya1N0YXRzSGlzdG9yeTogYnVja2V0RHVyYXRpb249MzYwMFxuICAgIC8vICAgICAgIHN0PTE0ODM5ODQ4MDAgcmI9MCBycD0wIHRiPTEyMDMxIHRwPTE4NCBvcD0wXG4gICAgLy8gICAgICAgc3Q9MTQ4Mzk4ODQwMCByYj0wIHJwPTAgdGI9Mzg0NzYgdHA9NTg3IG9wPTBcbiAgICAvLyAgICAgICBzdD0xNDgzOTk5MjAwIHJiPTMxNTYxNiBycD00MDAgdGI9OTQ4MDAgdHA9MzYyIG9wPTBcbiAgICAvLyAgICAgICBzdD0xNDg0MDAyODAwIHJiPTE1ODI2IHJwPTIwIHRiPTQ3MzggdHA9MTYgb3A9MFxuICAgIC8vXG4gICAgLy8gdGhlIHJldHVybiBkYXRhIG9mIHJlYWwgZGV2aWNlXG4gICAgLy8gICBYdCBzdGF0czpcbiAgICAvLyAgIFBlbmRpbmcgYnl0ZXM6IDBcbiAgICAvLyAgIEhpc3Rvcnkgc2luY2UgYm9vdDpcbiAgICAvLyAgIGlkZW50PVt7dHlwZT1NT0JJTEUsIHN1YlR5cGU9Q09NQklORUQsIHN1YnNjcmliZXJJZD00NTAwNTAuLi59XSB1aWQ9LTEgc2V0PUFMTCB0YWc9MHgwXG4gICAgLy8gICBOZXR3b3JrU3RhdHNIaXN0b3J5OiBidWNrZXREdXJhdGlvbj0zNjAwXG4gICAgLy8gICBzdD0xNDc4MDg4MDAwIHJiPTMyMTE1Mjk2IHJwPTM0MjkxIHRiPTI5NTY4MDUgdHA9MjU3MDUgb3A9MFxuICAgIC8vICAgc3Q9MTQ3ODA5MTYwMCByYj0yNzE0NjgzIHJwPTExODIxIHRiPTE0MjA1NjQgdHA9MTI2NTAgb3A9MFxuICAgIC8vICAgc3Q9MTQ3ODA5NTIwMCByYj0xMDA3OTIxMyBycD0xOTk2MiB0Yj0yNDg3NzA1IHRwPTIwMDE1IG9wPTBcbiAgICAvLyAgIHN0PTE0NzgwOTg4MDAgcmI9NDQ0NDQzMyBycD0xMDIyNyB0Yj0xNDMwMzU2IHRwPTEwNDkzIG9wPTBcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGxldCBmcm9tWHRzdGF0cyA9IGRhdGEuaW5kZXhPZihcIlh0IHN0YXRzOlwiKTtcblxuICAgIGxldCBzdGFydCA9IGRhdGEuaW5kZXhPZihcIlBlbmRpbmcgYnl0ZXM6XCIsIGZyb21YdHN0YXRzKTtcbiAgICBsZXQgZGVsaW1pdGVyID0gZGF0YS5pbmRleE9mKFwiOlwiLCBzdGFydCArIDEpO1xuICAgIGxldCBlbmQgPSBkYXRhLmluZGV4T2YoXCJcXG5cIiwgZGVsaW1pdGVyICsgMSk7XG4gICAgbGV0IHBlbmRpbmdCeXRlcyA9IGRhdGEuc3Vic3RyaW5nKGRlbGltaXRlciArIDEsIGVuZCkudHJpbSgpO1xuXG4gICAgaWYgKGVuZCA+IGRlbGltaXRlcikge1xuICAgICAgc3RhcnQgPSBkYXRhLmluZGV4T2YoXCJidWNrZXREdXJhdGlvblwiLCBlbmQgKyAxKTtcbiAgICAgIGRlbGltaXRlciA9IGRhdGEuaW5kZXhPZihcIj1cIiwgc3RhcnQgKyAxKTtcbiAgICAgIGVuZCA9IGRhdGEuaW5kZXhPZihcIlxcblwiLCBkZWxpbWl0ZXIgKyAxKTtcbiAgICAgIGJ1Y2tldER1cmF0aW9uID0gZGF0YS5zdWJzdHJpbmcoZGVsaW1pdGVyICsgMSwgZW5kKS50cmltKCk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0ID49IDApIHtcbiAgICAgIGRhdGEgPSBkYXRhLnN1YnN0cmluZyhlbmQgKyAxLCBkYXRhLmxlbmd0aCk7XG4gICAgICBsZXQgYXJyYXlMaXN0ID0gZGF0YS5zcGxpdChcIlxcblwiKTtcblxuICAgICAgaWYgKGFycmF5TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHN0YXJ0ID0gLTE7XG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBORVRXT1JLX0tFWVMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICBzdGFydCA9IGFycmF5TGlzdFswXS5pbmRleE9mKE5FVFdPUktfS0VZU1tqXVswXSk7XG5cbiAgICAgICAgICBpZiAoc3RhcnQgPj0gMCkge1xuICAgICAgICAgICAgaW5kZXggPSBqO1xuICAgICAgICAgICAgcmV0dXJuVmFsdWVbMF0gPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBORVRXT1JLX0tFWVNbal0ubGVuZ3RoOyArK2spIHtcbiAgICAgICAgICAgICAgcmV0dXJuVmFsdWVbMF1ba10gPSBORVRXT1JLX0tFWVNbal1ba107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmV0dXJuSW5kZXggPSAxO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5TGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGRhdGEgPSBhcnJheUxpc3RbaV07XG4gICAgICAgICAgc3RhcnQgPSBkYXRhLmluZGV4T2YoTkVUV09SS19LRVlTW2luZGV4XVswXSk7XG5cbiAgICAgICAgICBpZiAoc3RhcnQgPj0gMCkge1xuICAgICAgICAgICAgZGVsaW1pdGVyID0gZGF0YS5pbmRleE9mKFwiPVwiLCBzdGFydCArIDEpO1xuICAgICAgICAgICAgZW5kID0gZGF0YS5pbmRleE9mKFwiIFwiLCBkZWxpbWl0ZXIgKyAxKTtcbiAgICAgICAgICAgIGJ1Y2tldFN0YXJ0ID0gZGF0YS5zdWJzdHJpbmcoZGVsaW1pdGVyICsgMSwgZW5kKS50cmltKCk7XG5cbiAgICAgICAgICAgIGlmIChlbmQgPiBkZWxpbWl0ZXIpIHtcbiAgICAgICAgICAgICAgc3RhcnQgPSBkYXRhLmluZGV4T2YoTkVUV09SS19LRVlTW2luZGV4XVsxXSwgZW5kICsgMSk7XG4gICAgICAgICAgICAgIGlmIChzdGFydCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVsaW1pdGVyID0gZGF0YS5pbmRleE9mKFwiPVwiLCBzdGFydCArIDEpO1xuICAgICAgICAgICAgICAgIGVuZCA9IGRhdGEuaW5kZXhPZihcIiBcIiwgZGVsaW1pdGVyICsgMSk7XG4gICAgICAgICAgICAgICAgYWN0aXZlVGltZSA9IGRhdGEuc3Vic3RyaW5nKGRlbGltaXRlciArIDEsIGVuZCkudHJpbSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlbmQgPiBkZWxpbWl0ZXIpIHtcbiAgICAgICAgICAgICAgc3RhcnQgPSBkYXRhLmluZGV4T2YoTkVUV09SS19LRVlTW2luZGV4XVsyXSwgZW5kICsgMSk7XG4gICAgICAgICAgICAgIGlmIChzdGFydCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVsaW1pdGVyID0gZGF0YS5pbmRleE9mKFwiPVwiLCBzdGFydCArIDEpO1xuICAgICAgICAgICAgICAgIGVuZCA9IGRhdGEuaW5kZXhPZihcIiBcIiwgZGVsaW1pdGVyICsgMSk7XG4gICAgICAgICAgICAgICAgcnhCeXRlcyA9IGRhdGEuc3Vic3RyaW5nKGRlbGltaXRlciArIDEsIGVuZCkudHJpbSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlbmQgPiBkZWxpbWl0ZXIpIHtcbiAgICAgICAgICAgICAgc3RhcnQgPSBkYXRhLmluZGV4T2YoTkVUV09SS19LRVlTW2luZGV4XVszXSwgZW5kICsgMSk7XG4gICAgICAgICAgICAgIGlmIChzdGFydCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVsaW1pdGVyID0gZGF0YS5pbmRleE9mKFwiPVwiLCBzdGFydCArIDEpO1xuICAgICAgICAgICAgICAgIGVuZCA9IGRhdGEuaW5kZXhPZihcIiBcIiwgZGVsaW1pdGVyICsgMSk7XG4gICAgICAgICAgICAgICAgcnhQYWNrZXRzID0gZGF0YS5zdWJzdHJpbmcoZGVsaW1pdGVyICsgMSwgZW5kKS50cmltKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVuZCA+IGRlbGltaXRlcikge1xuICAgICAgICAgICAgICBzdGFydCA9IGRhdGEuaW5kZXhPZihORVRXT1JLX0tFWVNbaW5kZXhdWzRdLCBlbmQgKyAxKTtcbiAgICAgICAgICAgICAgaWYgKHN0YXJ0ID49IDApIHtcbiAgICAgICAgICAgICAgICBkZWxpbWl0ZXIgPSBkYXRhLmluZGV4T2YoXCI9XCIsIHN0YXJ0ICsgMSk7XG4gICAgICAgICAgICAgICAgZW5kID0gZGF0YS5pbmRleE9mKFwiIFwiLCBkZWxpbWl0ZXIgKyAxKTtcbiAgICAgICAgICAgICAgICB0eEJ5dGVzID0gZGF0YS5zdWJzdHJpbmcoZGVsaW1pdGVyICsgMSwgZW5kKS50cmltKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVuZCA+IGRlbGltaXRlcikge1xuICAgICAgICAgICAgICBzdGFydCA9IGRhdGEuaW5kZXhPZihORVRXT1JLX0tFWVNbaW5kZXhdWzVdLCBlbmQgKyAxKTtcbiAgICAgICAgICAgICAgaWYgKHN0YXJ0ID49IDApIHtcbiAgICAgICAgICAgICAgICBkZWxpbWl0ZXIgPSBkYXRhLmluZGV4T2YoXCI9XCIsIHN0YXJ0ICsgMSk7XG4gICAgICAgICAgICAgICAgZW5kID0gZGF0YS5pbmRleE9mKFwiIFwiLCBkZWxpbWl0ZXIgKyAxKTtcbiAgICAgICAgICAgICAgICB0eFBhY2tldHMgPSBkYXRhLnN1YnN0cmluZyhkZWxpbWl0ZXIgKyAxLCBlbmQpLnRyaW0oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZW5kID4gZGVsaW1pdGVyKSB7XG4gICAgICAgICAgICAgIHN0YXJ0ID0gZGF0YS5pbmRleE9mKE5FVFdPUktfS0VZU1tpbmRleF1bNl0sIGVuZCArIDEpO1xuICAgICAgICAgICAgICBpZiAoc3RhcnQgPj0gMCkge1xuICAgICAgICAgICAgICAgIGRlbGltaXRlciA9IGRhdGEuaW5kZXhPZihcIj1cIiwgc3RhcnQgKyAxKTtcbiAgICAgICAgICAgICAgICBlbmQgPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb25zID0gZGF0YS5zdWJzdHJpbmcoZGVsaW1pdGVyICsgMSwgZW5kKS50cmltKCk7XG5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuVmFsdWVbcmV0dXJuSW5kZXgrK10gPSBbYnVja2V0U3RhcnQsIGFjdGl2ZVRpbWUsIHJ4Qnl0ZXMsIHJ4UGFja2V0cywgdHhCeXRlcywgdHhQYWNrZXRzLCBvcGVyYXRpb25zLCBidWNrZXREdXJhdGlvbl07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFfLmlzRXF1YWwocGVuZGluZ0J5dGVzLCBcIlwiKSAmJiAhXy5pc1VuZGVmaW5lZChwZW5kaW5nQnl0ZXMpICYmICFfLmlzRXF1YWwocGVuZGluZ0J5dGVzLCBcIm5vZGV4XCIpKSB7XG4gICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHBhcnNlIG5ldHdvcmsgdHJhZmZpYyBkYXRhOiAnJHtkYXRhfSdgKTtcbiAgICB9XG4gIH0pO1xufTtcblxuT2JqZWN0LmFzc2lnbihleHRlbnNpb25zLCBjb21tYW5kcywgaGVscGVycyk7XG5leHBvcnQge1xuICBjb21tYW5kcywgaGVscGVycywgU1VQUE9SVEVEX1BFUkZPUk1BTkNFX0RBVEFfVFlQRVMsIENQVV9LRVlTLCBNRU1PUllfS0VZUyxcbiAgQkFUVEVSWV9LRVlTLCBORVRXT1JLX0tFWVMsXG59O1xuZXhwb3J0IGRlZmF1bHQgZXh0ZW5zaW9ucztcbiJdLCJmaWxlIjoibGliL2NvbW1hbmRzL3BlcmZvcm1hbmNlLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uIn0=
